<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>F1</title>
    <link rel="stylesheet" type="text/css" href="css/index.css" />
</head>
<script src="js/three.js"></script>
<script src="js/stats.js"></script>
<script src="js/tween.js"></script>
<body>
    <div id="threeScene" class="threeScene"></div>
</body>
<script>
    var swidth = document.getElementById("threeScene").clientWidth;
    var sheight= document.getElementById("threeScene").clientHeight;
    // 初始化场景
    var cScene = new THREE.Scene();
    // 初始化相机
    // var cCamera = new THREE.OrthographicCamera( swidth / - 2, swidth / 2, sheight / 2, sheight / - 2, 0.1, 1000 );
    var cCamera = new THREE.PerspectiveCamera(75, swidth / sheight, 1, 10000);
    cCamera.position.x = 200;             //相机的位置
    cCamera.position.y = 0;
    cCamera.position.z = 220;
   cCamera.up.x = 0;                 //相机以哪个方向为上方（默认y轴为上方），就是躺着看，趴着看，侧着看的区别
   cCamera.up.y = 1;
   cCamera.up.z = 0;
    cCamera.lookAt({x:0,y:0,z:0});      //相机看向坐标哪个方向
    // 初始化渲染器
    var cThree = new THREE.WebGLRenderer();
    cThree.setSize(swidth, sheight);
    document.getElementById("threeScene").appendChild(cThree.domElement);
    cThree.setClearColor(0xeeeeee, 1.0);
    // 初始化性能监视器
    var stats = new Stats();
    stats.domElement.style.position = 'absolute';
    stats.domElement.style.left = 'auto';
    stats.domElement.style.right = '0px';
    stats.domElement.style.top = '0px';
    document.getElementById("threeScene").appendChild(stats.domElement);
////    立方体
//    var geometry = new THREE.CubeGeometry(1,1,1);
//    var material = new THREE.MeshBasicMaterial({color: 0x0000ff});
//    var cube = new THREE.Mesh(geometry, material);
//    cube.position.x=-2;
//    cScene.add(cube);
////    点线
//    var geometry1 = new THREE.Geometry();
//    var material1 = new THREE.LineBasicMaterial( { vertexColors: true} );
//    var color1 = new THREE.Color( 0x0000ff ), color2 = new THREE.Color( 0xFF0000 ), color3 = new THREE.Color( 0x00FF00 ), color4 = new THREE.Color( 0x777777 );
//    // 线的材质可以由2点的颜色决定
//    var p1 = new THREE.Vector3( 0, 0, 0 );
//    var p2 = new THREE.Vector3( 8, 0, 0 );
//    geometry1.vertices.push(p1);
//    geometry1.vertices.push(p2);
//    geometry1.colors.push( color1, color1 );
//    var line = new THREE.Line( geometry1, material1, THREE.LinePieces );
//    cScene.add(line);
//    var p3 = new THREE.Vector3( 0, 8, 0 );
//    geometry1.vertices.push(p1);
//    geometry1.vertices.push(p3);
//    geometry1.colors.push( color2, color2 );
//    var line1 = new THREE.Line( geometry1, material1, THREE.LinePieces );
//    cScene.add(line1);
//    var p4 = new THREE.Vector3( 0, 0, 8 );
//    geometry1.vertices.push(p1);
//    geometry1.vertices.push(p4);
//    geometry1.colors.push( color3, color3 );
//    var line2 = new THREE.Line( geometry1, material1, THREE.LinePieces );
//    cScene.add(line2);
//
//    var p5 = new THREE.Vector3(-8,0,0);
//    var p6 = new THREE.Vector3( 4,0,0);
//    var geometry2 = new THREE.Geometry();
//    geometry2.vertices.push(p5);
//    geometry2.vertices.push(p6);
//    geometry2.colors.push( color4, color4 );
//
//    for ( var i = 0; i <= 9; i ++ ) {
//        var line5 = new THREE.Line( geometry2, new THREE.LineBasicMaterial( { color: 0x000000, opacity: 0.2 } ) );
//        line5.position.z = ( i * 1 )-4;
//        cScene.add( line5 );
//        var line6 = new THREE.Line( geometry2, new THREE.LineBasicMaterial( { color: 0x000000, opacity: 0.2 } ) );
//        line6.position.x = ( i * 1 ) - 5;
//        line6.rotation.y = 90 * Math.PI / 180;
//        cScene.add( line6 );
//
//    }

    //有一个立方体 start
    // var geometry = new THREE.CubeGeometry(200, 100, 50,4,4);
    // var material = new THREE.MeshLambertMaterial({color: 0xffffff});
    // var cube = new THREE.Mesh(geometry, material);
    // cube.position.set(0,0,0);
    // cScene.add(cube);
    setCube({c:cScene, s:0x000000, w:200, h:100, d:50});
    setCube({c:cScene, s:0xffffff, w:200, h:100, d:50, x:280});
    setCube({c:cScene, s:0xffffff, w:200, h:100, d:50, x:-280});
    setCube({c:cScene, s:0xffffff, w:200, h:100, d:50, y:160});
    setCube({c:cScene, s:0xffffff, w:200, h:100, d:50, y:-160});
    setCube({c:cScene, s:0xffffff, w:200, h:100, d:50, z:-90});
    setCube({c:cScene, s:0xffffff, w:200, h:100, d:50, z:330});
    var geometry = new THREE.PlaneGeometry( 500, 300, 1, 1 );
    geometry.vertices[0].uv = new THREE.Vector2(0,0);
    geometry.vertices[1].uv = new THREE.Vector2(2,0);
    geometry.vertices[2].uv = new THREE.Vector2(2,2);
    geometry.vertices[3].uv = new THREE.Vector2(0,2);
    // A end
    // B begin
    // 纹理坐标怎么弄
    var texture = THREE.ImageUtils.loadTexture("css/2017102801.png",null,function(t)
    {
    });
    var material = new THREE.MeshBasicMaterial({map:texture});
    var mesh = new THREE.Mesh( geometry,material );
    cScene.add( mesh );
    //有一个立方体 end

    //使用tween来让物体动起来
    // new TWEEN.Tween(cube.position).to({x:10},3000).repeat(Infinity).start();
    // 设置光源start
    // var cLight = new THREE.DirectionalLight(0x0000ff);
    // cLight.position.set(0,0,1);
    // cScene.add(cLight);
    //setLight({c:cScene, s:0xff0000});//增加环境光，最基础的，不用t，不用方向。
    setLight({c:cScene, t:2, s:0x00ff00, x:0, y:0, z:50});//点光

    
    function render(){
//        cCamera.position.x = cCamera.position.x +0.1;
//        cube.position.x += 0.02;
//        cube.rotation.y += 0.02;
        cThree.render(cScene, cCamera);
        requestAnimationFrame(render);
        stats.update();
        // TWEEN.update();
    }
    render();

    /**
     *  一键创建物体函数  eg：setCube({c:cScene, s:0xffffff, w:200, h:100, d:50})
     * obj.c    要加入物体的场景
     * obj.g    物体形状（）
     * obj.m    物体材质（）
     * obj.s    物体本身颜色
     * obj.w    物体宽
     * obj.h    物体高
     * obj.d    物体长
     * obj.x    物体x坐标
     * obj.y    物体y坐标
     * obj.z    物体z坐标
    */
    function setCube(obj){
        let g = new THREE.CubeGeometry( obj.w || 100, obj.h || 100, obj.d || 100);
        let m = new THREE.MeshLambertMaterial({ color: obj.s || 0xffffff });
        let c = new THREE.Mesh( g, m );
        c.position.set( obj.x || 0, obj.y || 0, obj.z || 0 );
        obj.c.add( c );
    }
    
    /**
     * 一键创建光源函数
     * obj.c    要加入光源的场景    eg：setLight({c:cScene, s:0x0000ff, x:0, y:0, z:1})
     * obj.t    光的类型：
     *                  0    环境光AmbientLight（默认）
     *                  1    平行光DirectionalLight
     *                  2    点光源PointLight
     * obj.s    光源颜色
     * obj.x    光源x坐标
     * obj.y    光源y坐标
     * obj.z    光源z坐标
    */
    function setLight(obj){
        //实例化光源对象 start
        let LIGHT = THREE.AmbientLight;
        obj.t && obj.t==1 && (LIGHT = THREE.DirectionalLight);
        obj.t && obj.t==2 && (LIGHT = THREE.PointLight);
        
        let l = new LIGHT( obj.s || 0xff0000 );
        // end
        l.position.set( obj.x || 0, obj.y || 0, obj.z || 0 );
        obj.c.add( l );
    }
</script>
</html>